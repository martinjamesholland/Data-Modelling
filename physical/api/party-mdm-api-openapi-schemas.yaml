components:
  schemas:
    # Common models
    Timestamp:
      type: object
      properties:
        created_at:
          type: string
          format: date-time
          description: Date and time when this record was created
        created_by:
          type: string
          description: User who created this record
        updated_at:
          type: string
          format: date-time
          description: Date and time when this record was last updated
        updated_by:
          type: string
          description: User who last updated this record
        deleted_at:
          type: string
          format: date-time
          description: Date and time when this record was marked as deleted
          nullable: true
    
    Pagination:
      type: object
      properties:
        page:
          type: integer
          description: Current page number
        limit:
          type: integer
          description: Number of records per page
        total_pages:
          type: integer
          description: Total number of pages
        total_records:
          type: integer
          description: Total number of records
    
    # Party models
    PartyListItem:
      type: object
      properties:
        party_id:
          type: string
          description: Unique identifier for the party
        party_name:
          type: string
          description: The name of the party as it is known in business
        party_type:
          type: string
          enum: [Person, Organization]
          description: Type of party
        status:
          type: string
          enum: [Active, Inactive, Merged, Deleted]
          description: Current status of the party
        is_golden_record:
          type: boolean
          description: Flag indicating if this is the golden record
    
    PartyBase:
      type: object
      required:
        - party_name
        - party_type
      properties:
        party_name:
          type: string
          description: The name of the party as it is known in business
        party_type:
          type: string
          enum: [Person, Organization]
          description: Type of party
        status:
          type: string
          enum: [Active, Inactive, Merged, Deleted]
          default: Active
          description: Current status of the party
        data_source_system:
          type: string
          description: System where this party data originated
        data_source_id:
          type: string
          description: ID of this party in the source system
        party_identification:
          type: string
          description: A general identification for the party (e.g., TaxID)
    
    PersonBase:
      type: object
      required:
        - first_name
        - last_name
      properties:
        first_name:
          type: string
          description: First name of the person
        middle_name:
          type: string
          description: Middle name of the person
          nullable: true
        last_name:
          type: string
          description: Last name of the person
        given_name:
          type: string
          description: Given name of the person (if different from first name)
          nullable: true
        family_name:
          type: string
          description: Family name of the person (if different from last name)
          nullable: true
        birth_date:
          type: string
          format: date
          description: Date of birth
          nullable: true
        gender:
          type: string
          description: Gender of the person
          nullable: true
        marital_status:
          type: string
          description: Marital status of the person
          nullable: true
        nationality:
          type: string
          description: Nationality of the person
          nullable: true
        residence_country:
          type: string
          description: Country of residence
          nullable: true
        ethnicity:
          type: string
          description: Ethnicity of the person
          nullable: true
        religion:
          type: string
          description: Religion of the person
          nullable: true
        preferred_language:
          type: string
          description: Preferred language for communication
          nullable: true
        residential_status:
          type: string
          description: Residential status in the country of residence
          nullable: true
    
    OrganizationBase:
      type: object
      required:
        - organization_name
      properties:
        organization_name:
          type: string
          description: Legal name of the organization
        trading_name:
          type: string
          description: Name under which the organization conducts business
          nullable: true
        organization_type:
          type: string
          description: Type of organization (e.g., Corporation, LLC, Partnership)
          nullable: true
        organization_sector:
          type: string
          description: Business sector of the organization
          nullable: true
        registration_date:
          type: string
          format: date
          description: Date of registration/incorporation
          nullable: true
        registration_country:
          type: string
          description: Country of registration
          nullable: true
        tax_country:
          type: string
          description: Country for tax purposes
          nullable: true
        organization_structure:
          type: string
          description: Structure of the organization
          nullable: true
        employee_count:
          type: integer
          description: Number of employees
          nullable: true
        annual_revenue:
          type: number
          format: double
          description: Annual revenue of the organization
          nullable: true
        registration_authority:
          type: string
          description: Authority with which the organization is registered
          nullable: true
        website:
          type: string
          description: Official website of the organization
          nullable: true
        parent_organization_id:
          type: string
          description: ID of the parent organization if any
          nullable: true 
    # Request/response models for Party
    PersonCreate:
      allOf:
        - $ref: '#/components/schemas/PartyBase'
        - $ref: '#/components/schemas/PersonBase'
      required:
        - party_name
        - party_type
        - first_name
        - last_name

    OrganizationCreate:
      allOf:
        - $ref: '#/components/schemas/PartyBase'
        - $ref: '#/components/schemas/OrganizationBase'
      required:
        - party_name
        - party_type
        - organization_name

    PersonUpdate:
      allOf:
        - $ref: '#/components/schemas/PersonBase'

    OrganizationUpdate:
      allOf:
        - $ref: '#/components/schemas/OrganizationBase'

    PartyResponse:
      type: object
      properties:
        party_id:
          type: string
          description: Unique identifier for the party
        party_name:
          type: string
          description: The name of the party as it is known in business
        party_type:
          type: string
          enum: [Person, Organization]
          description: Type of party
        status:
          type: string
          enum: [Active, Inactive, Merged, Deleted]
          description: Current status of the party
        data_source_system:
          type: string
          description: System where this party data originated
        data_source_id:
          type: string
          description: ID of this party in the source system
        is_golden_record:
          type: boolean
          description: Flag indicating if this is the golden record
        data_quality_score:
          type: number
          format: double
          description: Calculated data quality score from 0-100
          nullable: true
        confidence_score:
          type: number
          format: double
          description: Confidence level in the correctness of this record
          nullable: true
        last_verified_date:
          type: string
          format: date
          description: Date when this record was last verified
          nullable: true
        party_identification:
          type: string
          description: A general identification for the party (e.g., TaxID)
          nullable: true
        data_steward_id:
          type: string
          description: ID of the data steward responsible for this party
          nullable: true
        person_details:
          $ref: '#/components/schemas/PersonBase'
          nullable: true
        organization_details:
          $ref: '#/components/schemas/OrganizationBase'
          nullable: true
        identifications:
          type: array
          items:
            $ref: '#/components/schemas/PartyIdentification'
          nullable: true
        locations:
          type: array
          items:
            $ref: '#/components/schemas/PartyLocation'
          nullable: true
        contact_points:
          type: array
          items:
            $ref: '#/components/schemas/ContactPoint'
          nullable: true
        person_profile:
          $ref: '#/components/schemas/PersonProfile'
          nullable: true
        directory_references:
          type: array
          items:
            $ref: '#/components/schemas/PartyDirectoryReference'
          nullable: true
        timestamps:
          $ref: '#/components/schemas/Timestamp'

    # Identification models
    PartyIdentificationCreate:
      type: object
      required:
        - identification_type
        - identification_value
      properties:
        identification_type:
          type: string
          description: Type of identification (e.g., Passport, Tax ID, DUNS)
        identification_value:
          type: string
          description: Value of the identification
        issuing_authority:
          type: string
          description: Authority that issued the identification
          nullable: true
        issuing_country:
          type: string
          description: Country that issued the identification
          nullable: true
        issue_date:
          type: string
          format: date
          description: Date when the identification was issued
          nullable: true
        expiry_date:
          type: string
          format: date
          description: Date when the identification expires
          nullable: true
        is_primary:
          type: boolean
          description: Flag indicating if this is the primary identification
          default: false

    PartyIdentification:
      allOf:
        - $ref: '#/components/schemas/PartyIdentificationCreate'
        - type: object
          properties:
            identification_id:
              type: string
              description: Unique identifier for this identification
            party_id:
              type: string
              description: ID of the party this identification belongs to
            verification_status:
              type: string
              enum: [Verified, Unverified, Failed]
              description: Status of verification of this identification
              nullable: true
            verification_date:
              type: string
              format: date
              description: Date when this identification was verified
              nullable: true
            verification_method:
              type: string
              description: Method used to verify this identification
              nullable: true
            timestamps:
              $ref: '#/components/schemas/Timestamp' 
      # Location models
    PartyLocationCreate:
      type: object
      required:
        - location_type
        - address_line_1
        - city
        - country
      properties:
        location_type:
          type: string
          description: Type of location (e.g., Registered, Business, Residential)
        address_line_1:
          type: string
          description: First line of the address
        address_line_2:
          type: string
          description: Second line of the address
          nullable: true
        address_line_3:
          type: string
          description: Third line of the address
          nullable: true
        city:
          type: string
          description: City of the address
        state_province:
          type: string
          description: State or province of the address
          nullable: true
        postal_code:
          type: string
          description: Postal or ZIP code of the address
          nullable: true
        country:
          type: string
          description: Country of the address
        is_primary:
          type: boolean
          description: Flag indicating if this is the primary location
          default: false
        latitude:
          type: number
          format: double
          description: Latitude coordinate of the address
          nullable: true
        longitude:
          type: number
          format: double
          description: Longitude coordinate of the address
          nullable: true
        effective_from:
          type: string
          format: date
          description: Date from which this address is effective
          nullable: true
        effective_to:
          type: string
          format: date
          description: Date until which this address is effective
          nullable: true

    PartyLocation:
      allOf:
        - $ref: '#/components/schemas/PartyLocationCreate'
        - type: object
          properties:
            location_id:
              type: string
              description: Unique identifier for this location
            party_id:
              type: string
              description: ID of the party this location belongs to
            is_valid:
              type: boolean
              description: Flag indicating if this address has been validated
              default: false
            validation_date:
              type: string
              format: date
              description: Date when this address was validated
              nullable: true
            validation_method:
              type: string
              description: Method used to validate this address
              nullable: true
            timestamps:
              $ref: '#/components/schemas/Timestamp'

    # Contact point models
    ContactPointCreate:
      type: object
      required:
        - contact_type
        - contact_value
      properties:
        contact_type:
          type: string
          description: Type of contact (e.g., Email, Phone, PostalAddress, SocialNetwork)
        contact_value:
          type: string
          description: Value of the contact point (e.g., email address, phone number)
        is_primary:
          type: boolean
          description: Flag indicating if this is the primary contact point of its type
          default: false
        purpose:
          type: string
          description: Purpose of this contact point (e.g., Business, Personal, Billing)
          nullable: true
        effective_from:
          type: string
          format: date
          description: Date from which this contact point is effective
          nullable: true
        effective_to:
          type: string
          format: date
          description: Date until which this contact point is effective
          nullable: true

    ContactPoint:
      allOf:
        - $ref: '#/components/schemas/ContactPointCreate'
        - type: object
          properties:
            contact_id:
              type: string
              description: Unique identifier for this contact point
            party_id:
              type: string
              description: ID of the party this contact point belongs to
            is_valid:
              type: boolean
              description: Flag indicating if this contact point has been validated
              default: false
            validation_date:
              type: string
              format: date
              description: Date when this contact point was validated
              nullable: true
            validation_method:
              type: string
              description: Method used to validate this contact point
              nullable: true
            timestamps:
              $ref: '#/components/schemas/Timestamp'

    # Person profile models
    PersonProfile:
      type: object
      properties:
        person_profile_id:
          type: string
          description: Unique identifier for this profile
        party_id:
          type: string
          description: ID of the person this profile belongs to
        political_exposure_type:
          type: string
          enum: [Foreign, Domestic, None]
          description: Type of political exposure
          nullable: true
        political_exposure_description:
          type: string
          description: Description of the political exposure
          nullable: true
        education_level:
          type: string
          description: Highest level of education
          nullable: true
        profession:
          type: string
          description: Current profession
          nullable: true
        income_range:
          type: string
          description: Income range
          nullable: true
        wealth_source:
          type: string
          description: Source of wealth
          nullable: true
        employment_status:
          type: string
          description: Current employment status
          nullable: true
        employer_name:
          type: string
          description: Name of the employer
          nullable: true
        job_title:
          type: string
          description: Job title
          nullable: true
        family_size:
          type: integer
          description: Number of family members
          nullable: true
        timestamps:
          $ref: '#/components/schemas/Timestamp' 
      # Directory reference models
    PartyDirectoryReference:
      type: object
      properties:
        reference_id:
          type: string
          description: Unique identifier for this reference
        party_id:
          type: string
          description: ID of the party this reference belongs to
        directory_name:
          type: string
          description: Name of the external directory
        directory_entry_id:
          type: string
          description: ID of the party in the external directory
        directory_entry_type:
          type: string
          description: Type of entry in the directory
          nullable: true
        directory_entry_date:
          type: string
          format: date
          description: Date of the entry in the directory
          nullable: true
        directory_valid_period:
          type: string
          description: Period for which the directory entry is valid
          nullable: true
        is_verified:
          type: boolean
          description: Flag indicating if this reference has been verified
          default: false
        verification_date:
          type: string
          format: date
          description: Date when this reference was verified
          nullable: true
        verification_method:
          type: string
          description: Method used to verify this reference
          nullable: true
        timestamps:
          $ref: '#/components/schemas/Timestamp'

    # Relationship models
    PartyRelationshipListItem:
      type: object
      properties:
        relationship_id:
          type: string
          description: Unique identifier for this relationship
        from_party_id:
          type: string
          description: ID of the source party
        from_party_name:
          type: string
          description: Name of the source party
        to_party_id:
          type: string
          description: ID of the target party
        to_party_name:
          type: string
          description: Name of the target party
        relationship_type:
          type: string
          description: Type of relationship between the parties
        status:
          type: string
          enum: [Active, Inactive, Suspended, Terminated]
          description: Current status of the relationship
        start_date:
          type: string
          format: date
          description: Date when this relationship started
        end_date:
          type: string
          format: date
          description: Date when this relationship ended
          nullable: true

    PartyRelationshipBase:
      type: object
      required:
        - from_party_id
        - to_party_id
        - relationship_type
        - start_date
      properties:
        from_party_id:
          type: string
          description: ID of the source party
        to_party_id:
          type: string
          description: ID of the target party
        relationship_type:
          type: string
          description: Type of relationship between the parties
        relationship_validity_period:
          type: string
          description: The period for which this relationship is valid
          nullable: true
        start_date:
          type: string
          format: date
          description: Date when this relationship started
        end_date:
          type: string
          format: date
          description: Date when this relationship ended
          nullable: true
        status:
          type: string
          enum: [Active, Inactive, Suspended, Terminated]
          default: Active
          description: Current status of the relationship
        description:
          type: string
          description: Description of the relationship
          nullable: true
        priority:
          type: integer
          description: Priority of this relationship
          nullable: true
        is_bidirectional:
          type: boolean
          description: Flag indicating if this relationship is bidirectional
          default: false

    PartyRelationshipCreate:
      allOf:
        - $ref: '#/components/schemas/PartyRelationshipBase'

    PartyRelationshipUpdate:
      type: object
      properties:
        relationship_validity_period:
          type: string
          description: The period for which this relationship is valid
          nullable: true
        end_date:
          type: string
          format: date
          description: Date when this relationship ended
          nullable: true
        status:
          type: string
          enum: [Active, Inactive, Suspended, Terminated]
          description: Current status of the relationship
        description:
          type: string
          description: Description of the relationship
          nullable: true
        priority:
          type: integer
          description: Priority of this relationship
          nullable: true
        is_bidirectional:
          type: boolean
          description: Flag indicating if this relationship is bidirectional

    CustomerRelationshipBase:
      type: object
      required:
        - customer_type
      properties:
        customer_type:
          type: string
          description: Type of customer (e.g., Individual, Business, Government)
        customer_category:
          type: string
          description: Category of customer (e.g., Premium, Standard, Basic)
          nullable: true
        customer_risk_rating:
          type: string
          description: Risk rating of the customer
          nullable: true
        account_manager_id:
          type: string
          description: ID of the account manager for this customer
          nullable: true
        lifecycle_stage:
          type: string
          description: Lifecycle stage of the customer (e.g., Prospect, Active, Dormant)
          nullable: true
        credit_limit:
          type: number
          format: double
          description: Credit limit for the customer
          nullable: true
        payment_terms:
          type: string
          description: Payment terms for the customer
          nullable: true
        onboarding_date:
          type: string
          format: date
          description: Date when the customer was onboarded
          nullable: true
        kyc_status:
          type: string
          enum: [Not Started, In Progress, Completed, Failed, Expired]
          description: Know Your Customer status
          nullable: true
        kyc_review_date:
          type: string
          format: date
          description: Date when KYC was last reviewed
          nullable: true 
      CustomerRelationshipCreate:
      allOf:
        - $ref: '#/components/schemas/PartyRelationshipBase'
        - $ref: '#/components/schemas/CustomerRelationshipBase'

    CustomerRelationshipUpdate:
      allOf:
        - $ref: '#/components/schemas/PartyRelationshipUpdate'
        - $ref: '#/components/schemas/CustomerRelationshipBase'

    PartyRelationshipResponse:
      type: object
      properties:
        party_relationship_id:
          type: string
          description: Unique identifier for this relationship
        from_party_id:
          type: string
          description: ID of the source party
        from_party_name:
          type: string
          description: Name of the source party
        to_party_id:
          type: string
          description: ID of the target party
        to_party_name:
          type: string
          description: Name of the target party
        relationship_type:
          type: string
          description: Type of relationship between the parties
        relationship_validity_period:
          type: string
          description: The period for which this relationship is valid
          nullable: true
        start_date:
          type: string
          format: date
          description: Date when this relationship started
        end_date:
          type: string
          format: date
          description: Date when this relationship ended
          nullable: true
        status:
          type: string
          enum: [Active, Inactive, Suspended, Terminated]
          description: Current status of the relationship
        description:
          type: string
          description: Description of the relationship
          nullable: true
        priority:
          type: integer
          description: Priority of this relationship
          nullable: true
        is_bidirectional:
          type: boolean
          description: Flag indicating if this relationship is bidirectional
        customer_details:
          $ref: '#/components/schemas/CustomerRelationshipBase'
          nullable: true
        timestamps:
          $ref: '#/components/schemas/Timestamp'

    # Agreement models
    AgreementListItem:
      type: object
      properties:
        agreement_id:
          type: string
          description: Unique identifier for this agreement
        agreement_name:
          type: string
          description: Name of the agreement
        agreement_type:
          type: string
          description: Type of agreement (e.g., Contract, SLA, MOU)
        status:
          type: string
          enum: [Draft, Active, Expired, Terminated, Renewed]
          description: Current status of the agreement
        effective_date:
          type: string
          format: date
          description: Date from which the agreement is effective
        expiry_date:
          type: string
          format: date
          description: Date when the agreement expires
          nullable: true
        party_count:
          type: integer
          description: Number of parties involved in this agreement

    AgreementBase:
      type: object
      required:
        - agreement_name
        - agreement_type
        - effective_date
      properties:
        agreement_name:
          type: string
          description: Name of the agreement
        agreement_type:
          type: string
          description: Type of agreement (e.g., Contract, SLA, MOU)
        description:
          type: string
          description: Description of the agreement
          nullable: true
        effective_date:
          type: string
          format: date
          description: Date from which the agreement is effective
        expiry_date:
          type: string
          format: date
          description: Date when the agreement expires
          nullable: true
        renewal_date:
          type: string
          format: date
          description: Date when the agreement renews
          nullable: true
        status:
          type: string
          enum: [Draft, Active, Expired, Terminated, Renewed]
          default: Draft
          description: Current status of the agreement
        terms:
          type: string
          description: Terms of the agreement
          nullable: true
        agreement_document_url:
          type: string
          description: URL to the agreement document
          nullable: true

    PartyAgreementBase:
      type: object
      required:
        - party_id
        - role
      properties:
        party_id:
          type: string
          description: ID of the party
        role:
          type: string
          description: Role of the party in this agreement
        signature_date:
          type: string
          format: date
          description: Date when the party signed the agreement
          nullable: true
        status:
          type: string
          enum: [Draft, Signed, Revoked, Expired]
          default: Draft
          description: Status of the party in this agreement

    AgreementCreate:
      allOf:
        - $ref: '#/components/schemas/AgreementBase'
        - type: object
          required:
            - parties
          properties:
            parties:
              type: array
              items:
                $ref: '#/components/schemas/PartyAgreementBase'
              minItems: 1
              description: Parties involved in this agreement

    AgreementUpdate:
      allOf:
        - $ref: '#/components/schemas/AgreementBase'
        - type: object
          properties:
            parties:
              type: array
              items:
                $ref: '#/components/schemas/PartyAgreementBase'
              description: Parties involved in this agreement

    AgreementResponse:
      type: object
      properties:
        agreement_id:
          type: string
          description: Unique identifier for this agreement
        agreement_name:
          type: string
          description: Name of the agreement
        agreement_type:
          type: string
          description: Type of agreement (e.g., Contract, SLA, MOU)
        description:
          type: string
          description: Description of the agreement
          nullable: true
        effective_date:
          type: string
          format: date
          description: Date from which the agreement is effective
        expiry_date:
          type: string
          format: date
          description: Date when the agreement expires
          nullable: true
        renewal_date:
          type: string
          format: date
          description: Date when the agreement renews
          nullable: true
        status:
          type: string
          enum: [Draft, Active, Expired, Terminated, Renewed]
          description: Current status of the agreement
        terms:
          type: string
          description: Terms of the agreement
          nullable: true
        agreement_document_url:
          type: string
          description: URL to the agreement document
          nullable: true
        parties:
          type: array
          items:
            type: object
            properties:
              party_id:
                type: string
                description: ID of the party
              party_name:
                type: string
                description: Name of the party
              role:
                type: string
                description: Role of the party in this agreement
              signature_date:
                type: string
                format: date
                description: Date when the party signed the agreement
                nullable: true
              status:
                type: string
                enum: [Draft, Signed, Revoked, Expired]
                description: Status of the party in this agreement
          description: Parties involved in this agreement
        timestamps:
          $ref: '#/components/schemas/Timestamp' 
      # MDM models
    MatchRequest:
      type: object
      required:
        - match_criteria
      properties:
        match_criteria:
          type: object
          description: Criteria for matching parties
          oneOf:
            - $ref: '#/components/schemas/PersonMatchCriteria'
            - $ref: '#/components/schemas/OrganizationMatchCriteria'
        match_threshold:
          type: number
          format: double
          minimum: 0
          maximum: 100
          default: 80
          description: Threshold for considering a match (0-100)
        max_results:
          type: integer
          minimum: 1
          maximum: 100
          default: 10
          description: Maximum number of matching results to return
        ignore_party_ids:
          type: array
          items:
            type: string
          description: Party IDs to exclude from matching

    PersonMatchCriteria:
      type: object
      properties:
        first_name:
          type: string
          description: First name of the person
        last_name:
          type: string
          description: Last name of the person
        birth_date:
          type: string
          format: date
          description: Date of birth
        identifications:
          type: array
          items:
            type: object
            properties:
              identification_type:
                type: string
                description: Type of identification
              identification_value:
                type: string
                description: Value of the identification
          description: Identifications to match against
        contact_points:
          type: array
          items:
            type: object
            properties:
              contact_type:
                type: string
                description: Type of contact
              contact_value:
                type: string
                description: Value of the contact point
          description: Contact points to match against
        addresses:
          type: array
          items:
            type: object
            properties:
              postal_code:
                type: string
                description: Postal or ZIP code
              country:
                type: string
                description: Country
          description: Addresses to match against

    OrganizationMatchCriteria:
      type: object
      properties:
        organization_name:
          type: string
          description: Name of the organization
        trading_name:
          type: string
          description: Trading name of the organization
        identifications:
          type: array
          items:
            type: object
            properties:
              identification_type:
                type: string
                description: Type of identification
              identification_value:
                type: string
                description: Value of the identification
          description: Identifications to match against
        contact_points:
          type: array
          items:
            type: object
            properties:
              contact_type:
                type: string
                description: Type of contact
              contact_value:
                type: string
                description: Value of the contact point
          description: Contact points to match against
        addresses:
          type: array
          items:
            type: object
            properties:
              postal_code:
                type: string
                description: Postal or ZIP code
              country:
                type: string
                description: Country
          description: Addresses to match against

    MatchResponse:
      type: object
      properties:
        matches:
          type: array
          items:
            type: object
            properties:
              party_id:
                type: string
                description: ID of the matching party
              party_name:
                type: string
                description: Name of the matching party
              party_type:
                type: string
                enum: [Person, Organization]
                description: Type of party
              match_score:
                type: number
                format: double
                description: Match score (0-100)
              match_details:
                type: object
                description: Details of the match
                additionalProperties: true
          description: Matching parties found
        rule_applied:
          type: string
          description: Match rule that was applied
        match_date:
          type: string
          format: date-time
          description: Date and time when the match was performed

    MergeRequest:
      type: object
      required:
        - survivor_party_id
        - merged_party_ids
      properties:
        survivor_party_id:
          type: string
          description: ID of the party that should survive (golden record)
        merged_party_ids:
          type: array
          items:
            type: string
          minItems: 1
          description: IDs of parties to merge into the survivor
        merge_reason:
          type: string
          description: Reason for the merge
        field_resolution:
          type: object
          description: How to resolve conflicting fields
          additionalProperties:
            type: object
            properties:
              source_party_id:
                type: string
                description: ID of the party to take the field value from
              custom_value:
                type: string
                description: Custom value to use for the field

    MergeResponse:
      type: object
      properties:
        merge_id:
          type: string
          description: Unique identifier for this merge operation
        survivor_party_id:
          type: string
          description: ID of the surviving party (golden record)
        merged_party_ids:
          type: array
          items:
            type: string
          description: IDs of merged parties
        merge_date:
          type: string
          format: date-time
          description: Date and time when the merge was performed
        merge_reason:
          type: string
          description: Reason for the merge
        merge_status:
          type: string
          enum: [Pending, Approved, Rejected, Completed]
          description: Status of the merge
        merge_by:
          type: string
          description: User who performed the merge 
    UnmergeResponse:
      type: object
      properties:
        unmerge_id:
          type: string
          description: Unique identifier for this unmerge operation
        original_merge_id:
          type: string
          description: ID of the original merge operation
        survivor_party_id:
          type: string
          description: ID of the previously surviving party
        unmerged_party_ids:
          type: array
          items:
            type: string
          description: IDs of unmerged parties
        unmerge_date:
          type: string
          format: date-time
          description: Date and time when the unmerge was performed
        unmerge_reason:
          type: string
          description: Reason for the unmerge
        unmerge_by:
          type: string
          description: User who performed the unmerge

    MatchRuleListItem:
      type: object
      properties:
        match_rule_id:
          type: string
          description: Unique identifier for this match rule
        rule_name:
          type: string
          description: Name of the match rule
        rule_type:
          type: string
          enum: [Exact, Fuzzy, Deterministic, Probabilistic, Hybrid]
          description: Type of match rule
        party_type:
          type: string
          enum: [Person, Organization, Both]
          description: Type of party this rule applies to
        priority:
          type: integer
          description: Priority of this rule in the matching hierarchy
        is_active:
          type: boolean
          description: Flag indicating if this rule is active

    MatchRuleCreate:
      type: object
      required:
        - rule_name
        - rule_type
        - rule_definition
        - threshold
        - priority
      properties:
        rule_name:
          type: string
          description: Name of the match rule
        rule_description:
          type: string
          description: Description of the match rule
          nullable: true
        rule_type:
          type: string
          enum: [Exact, Fuzzy, Deterministic, Probabilistic, Hybrid]
          description: Type of match rule
        rule_definition:
          type: object
          description: Definition of the match rule in JSON format
          additionalProperties: true
        threshold:
          type: number
          format: double
          minimum: 0
          maximum: 100
          description: Threshold for considering a match (0-100)
        priority:
          type: integer
          minimum: 1
          description: Priority of this rule in the matching hierarchy
        party_type:
          type: string
          enum: [Person, Organization, Both]
          default: Both
          description: Type of party this rule applies to
        is_active:
          type: boolean
          default: true
          description: Flag indicating if this rule is active

    MatchRuleResponse:
      type: object
      properties:
        match_rule_id:
          type: string
          description: Unique identifier for this match rule
        rule_name:
          type: string
          description: Name of the match rule
        rule_description:
          type: string
          description: Description of the match rule
          nullable: true
        rule_type:
          type: string
          enum: [Exact, Fuzzy, Deterministic, Probabilistic, Hybrid]
          description: Type of match rule
        rule_definition:
          type: object
          description: Definition of the match rule in JSON format
          additionalProperties: true
        threshold:
          type: number
          format: double
          description: Threshold for considering a match (0-100)
        priority:
          type: integer
          description: Priority of this rule in the matching hierarchy
        party_type:
          type: string
          enum: [Person, Organization, Both]
          description: Type of party this rule applies to
        is_active:
          type: boolean
          description: Flag indicating if this rule is active
        timestamps:
          $ref: '#/components/schemas/Timestamp'

    responses:
      BadRequest:
        description: Bad request - invalid input
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Error'

      Unauthorized:
        description: Unauthorized - authentication required
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Error'

      Forbidden:
        description: Forbidden - insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Error'

      NotFound:
        description: Resource not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Error'

      Conflict:
        description: Conflict with current state
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Error'

      InternalServerError:
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Error'

      Error:
        type: object
        properties:
          code:
            type: string
            description: Error code
          message:
            type: string
            description: Error message
          details:
            type: array
            items:
              type: object
              additionalProperties: true
            description: Additional error details
            nullable: true 